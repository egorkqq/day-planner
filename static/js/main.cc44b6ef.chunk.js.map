{"version":3,"sources":["Calendar/index.js","Calendar/createDateObjects.js","Tooltip/index.js","Calendar/Cell.js","Search/index.js","Header/index.js","App.js","index.js"],"names":["Calendar","handleNextMonth","_this$props","_this","props","onChangeMonth","date","clone","add","handlePrevMonth","_this$props2","subtract","_this$props3","this","renderDay","renderHeader","react_default","a","createElement","className","onPrevMonth","onNextMonth","startOfMonth","startOf","diff","weekday","prevMonthDays","i","push","day","classNames","currentMonthDays","daysInMonth","moment","year","month","daysAdded","length","nextMonthDays","concat","createDateObjects","map","Component","Tooltip","state","event","names","description","onInput","e","setState","Object","defineProperty","target","name","value","saveData","_this$state","openTooltip","updateCell","checkToExists","newData","JSON","parse","localStorage","getItem","filter","el","format","setItem","stringify","prevData","newDataItem","content","toConsumableArray","alert","clearData","setWrapperRef","node","wrapperRef","handleClickOutside","contains","data","document","addEventListener","removeEventListener","_this$state2","ref","onChange","placeholder","type","rows","onClick","Cell","tooltipOpened","undefined","prevState","getDataFromStorage","_this2","dayName","cx","isSame","role","tabIndex","onKeyDown","keyCode","src_Tooltip","getSuggestionValue","suggestion","renderSuggestion","react","Search","suggestions","_ref","newValue","onSuggestionsFetchRequested","_ref2","events","sort","b","escapedValue","trim","replace","regex","RegExp","test","getSuggestions","onSuggestionsClearRequested","inputProps","dist_default","Header","window","location","reload","Search_Search","App","currentDate","setToday","renderExample","counter","src_Header","Calendar_Calendar","Calendar_Cell","key","charAt","toUpperCase","slice","render","App_App","getElementById"],"mappings":"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","file":"static/js/main.cc44b6ef.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport createDateObjects from './createDateObjects';\r\nimport './styles.sass';\r\n\r\nexport default class Calendar extends Component {\r\n  handleNextMonth = () => {\r\n    const { onChangeMonth, date } = this.props;\r\n    onChangeMonth(date.clone().add(1, 'months'));\r\n  };\r\n\r\n  handlePrevMonth = () => {\r\n    const { onChangeMonth, date } = this.props;\r\n    onChangeMonth(date.clone().subtract(1, 'months'));\r\n  };\r\n\r\n  render() {\r\n    const { date, renderDay, renderHeader } = this.props;\r\n    return (\r\n      <div className=\"Calendar\">\r\n        {renderHeader({\r\n          date,\r\n          onPrevMonth: this.handlePrevMonth,\r\n          onNextMonth: this.handleNextMonth,\r\n        })}\r\n        <div className=\"Calendar-grid\">{createDateObjects(date).map(day => renderDay(day))}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import moment from 'moment';\r\n\r\nexport default function createDateObjects(date) {\r\n  const startOfMonth = date.startOf('month');\r\n  const diff = startOfMonth.weekday();\r\n  const prevMonthDays = [];\r\n  for (let i = 0; i < diff; i++) {\r\n    prevMonthDays.push({\r\n      day: startOfMonth.clone().subtract(diff - i, 'days'),\r\n      classNames: 'prevMonth',\r\n    });\r\n  }\r\n  const currentMonthDays = [];\r\n  for (let i = 1; i < date.daysInMonth() + 1; i++) {\r\n    currentMonthDays.push({\r\n      day: moment([date.year(), date.month(), i]),\r\n    });\r\n  }\r\n  const daysAdded = prevMonthDays.length + currentMonthDays.length - 1;\r\n  const nextMonthDays = [];\r\n  let i = 1;\r\n  while ((daysAdded + i) % 7 !== 0) {\r\n    nextMonthDays.push({\r\n      day: currentMonthDays[currentMonthDays.length - 1].day.clone().add(i, 'days'),\r\n      classNames: 'nextMonth',\r\n    });\r\n    i += 1;\r\n  }\r\n  return [...prevMonthDays, ...currentMonthDays, ...nextMonthDays];\r\n}\r\n","import React, { Component } from 'react';\r\nimport './styles.sass';\r\n\r\nclass Tooltip extends Component {\r\n  state = {\r\n    event: '',\r\n    names: '',\r\n    description: '',\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { data } = this.props;\r\n    if (data) {\r\n      this.setState({\r\n        event: data.content.event,\r\n        names: data.content.names,\r\n        description: data.content.description,\r\n      });\r\n    }\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  onInput = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  saveData = () => {\r\n    const { event, names, description } = this.state;\r\n    const { day, openTooltip, updateCell } = this.props;\r\n\r\n    if (event && names) {\r\n      if (this.checkToExists()) {\r\n        const prevData = JSON.parse(localStorage.getItem('data'));\r\n        const newData = prevData.filter(el => +el.date !== +day.format('x'));\r\n        localStorage.setItem('data', JSON.stringify(newData));\r\n      }\r\n      const prevData = JSON.parse(localStorage.getItem('data'));\r\n      const newDataItem = {\r\n        date: day.format('x'),\r\n        content: { event, names, description },\r\n      };\r\n      const newData = [...prevData, newDataItem];\r\n      localStorage.setItem('data', JSON.stringify(newData));\r\n      openTooltip();\r\n      updateCell();\r\n    } else alert('Введите данные');\r\n  };\r\n\r\n  clearData = () => {\r\n    const { day, openTooltip, clearData } = this.props;\r\n    if (this.checkToExists()) {\r\n      const prevData = JSON.parse(localStorage.getItem('data'));\r\n      const newData = prevData.filter(el => +el.date !== +day.format('x'));\r\n      localStorage.setItem('data', JSON.stringify(newData));\r\n      clearData();\r\n      openTooltip();\r\n    } else {\r\n      alert('Вы еще ничего не запланировали на данное число');\r\n    }\r\n  };\r\n\r\n  checkToExists = () => {\r\n    const { day } = this.props;\r\n    const data = JSON.parse(localStorage.getItem('data')).filter(\r\n      el => +el.date === +day.format('x'),\r\n    );\r\n    if (data.length) return true;\r\n    return false;\r\n  };\r\n\r\n  setWrapperRef = node => {\r\n    this.wrapperRef = node;\r\n  };\r\n\r\n  handleClickOutside = event => {\r\n    const { openTooltip } = this.props;\r\n    if (this.wrapperRef && !this.wrapperRef.contains(event.target)) {\r\n      openTooltip();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { event, names, description } = this.state;\r\n    const { openTooltip } = this.props;\r\n    return (\r\n      <div ref={this.setWrapperRef} className=\"Tooltip\">\r\n        <input\r\n          onChange={this.onInput}\r\n          name=\"event\"\r\n          placeholder=\"Событие\"\r\n          type=\"text\"\r\n          value={event}\r\n          className=\"Tooltip-input\"\r\n        />\r\n        <input\r\n          onChange={this.onInput}\r\n          name=\"names\"\r\n          placeholder=\"Имена участников\"\r\n          type=\"text\"\r\n          value={names}\r\n          className=\"Tooltip-input\"\r\n        />\r\n        <textarea\r\n          onChange={this.onInput}\r\n          name=\"description\"\r\n          placeholder=\"Описание\"\r\n          type=\"text\"\r\n          value={description}\r\n          className=\"Tooltip-textarea\"\r\n          rows=\"5\"\r\n        />\r\n        <div>\r\n          <button type=\"button\" onClick={this.saveData} className=\"Tooltip-button\">\r\n            {'Готово'}\r\n          </button>\r\n          <button type=\"button\" onClick={this.clearData} className=\"Tooltip-button\">\r\n            {'Удалить'}\r\n          </button>\r\n        </div>\r\n        <button type=\"button\" onClick={openTooltip} className=\"fas fa-times Tooltip-close\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tooltip;\r\n","import React, { Component } from 'react';\r\nimport moment from 'moment';\r\nimport cx from 'classnames';\r\nimport Tooltip from '../Tooltip';\r\n\r\nclass Cell extends Component {\r\n  state = {\r\n    tooltipOpened: false,\r\n    data: undefined,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getDataFromStorage();\r\n  }\r\n\r\n  openTooltip = () => {\r\n    this.setState(prevState => {\r\n      return {\r\n        tooltipOpened: !prevState.tooltipOpened,\r\n      };\r\n    });\r\n  };\r\n\r\n  getDataFromStorage = () => {\r\n    const { day } = this.props;\r\n    const data = JSON.parse(localStorage.getItem('data')).filter(\r\n      el => +el.date === +day.format('x'),\r\n    );\r\n    if (data.length) {\r\n      this.setState({\r\n        data: data[0],\r\n      });\r\n    }\r\n  };\r\n\r\n  clearData = () => {\r\n    this.setState({ data: undefined });\r\n  };\r\n\r\n  render() {\r\n    const { day, classNames, dayName } = this.props;\r\n    const { tooltipOpened, data } = this.state;\r\n    return (\r\n      <div\r\n        className={cx(\r\n          'Calendar-grid-item',\r\n          day.isSame(moment(), 'day') && 'Calendar-grid-item--current',\r\n          classNames,\r\n        )}\r\n      >\r\n        <div\r\n          role=\"gridcell\"\r\n          tabIndex=\"0\"\r\n          className=\"Calendar-grid-item-content\"\r\n          onClick={this.openTooltip}\r\n          onKeyDown={e => {\r\n            if (e.keyCode === 13) {\r\n              this.openTooltip();\r\n            }\r\n          }}\r\n        >\r\n          <div className=\"Calendar-grid-item-day\">\r\n            {dayName}\r\n            {day.format('D')}\r\n          </div>\r\n          {data && (\r\n            <div>\r\n              <div className=\"Calendar-grid-item-title\">{data.content.event}</div>\r\n              <div className=\"Calendar-grid-item-people\">{data.content.names}</div>\r\n            </div>\r\n          )}\r\n          <div />\r\n        </div>\r\n        {tooltipOpened && (\r\n          <Tooltip\r\n            data={data}\r\n            day={day}\r\n            openTooltip={this.openTooltip}\r\n            updateCell={this.getDataFromStorage}\r\n            clearData={this.clearData}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Cell;\r\n","import React, { Component, Fragment } from 'react';\r\nimport Autosuggest from 'react-autosuggest';\r\nimport moment from 'moment';\r\nimport 'moment/locale/ru';\r\n\r\nimport './styles.sass';\r\n\r\nfunction escapeRegexCharacters(str) {\r\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n}\r\n\r\nfunction getSuggestions(value) {\r\n  const events = JSON.parse(localStorage.getItem('data')).sort((a, b) => a.date - b.date);\r\n  const escapedValue = escapeRegexCharacters(value.trim());\r\n\r\n  if (escapedValue === '') {\r\n    return [];\r\n  }\r\n\r\n  const regex = new RegExp(escapedValue, 'i');\r\n  return events.filter(event => {\r\n    return regex.test(event.content.event) || regex.test(event.content.names);\r\n  });\r\n}\r\n\r\nfunction getSuggestionValue(suggestion) {\r\n  return suggestion.content.event;\r\n}\r\n\r\nfunction renderSuggestion(suggestion) {\r\n  return (\r\n    <Fragment>\r\n      <span className=\"react-autosuggest__suggestion__title\">{suggestion.content.event}</span>\r\n      <span className=\"react-autosuggest__suggestion__date\">\r\n        {moment(+suggestion.date).format('D MMMM')}\r\n      </span>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default class Search extends Component {\r\n  state = {\r\n    value: 'as',\r\n    suggestions: [],\r\n  };\r\n\r\n  onChange = (event, { newValue }) => {\r\n    this.setState({\r\n      value: newValue,\r\n    });\r\n  };\r\n\r\n  onSuggestionsFetchRequested = ({ value }) => {\r\n    this.setState({\r\n      suggestions: getSuggestions(value),\r\n    });\r\n  };\r\n\r\n  onSuggestionsClearRequested = () => {\r\n    this.setState({\r\n      suggestions: [],\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { value, suggestions } = this.state;\r\n    const inputProps = {\r\n      placeholder: 'Событие или участник',\r\n      value,\r\n      onChange: this.onChange,\r\n    };\r\n\r\n    return (\r\n      <Autosuggest\r\n        suggestions={suggestions}\r\n        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\r\n        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\r\n        getSuggestionValue={getSuggestionValue}\r\n        renderSuggestion={renderSuggestion}\r\n        inputProps={inputProps}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Search from '../Search';\r\nimport './styles.sass';\r\n\r\nclass Header extends Component {\r\n  state = {};\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Header\">\r\n        <div className=\"Header-container\">\r\n          <button type=\"button\" className=\"Header-button\">\r\n            {'Добавить'}\r\n          </button>\r\n          <button type=\"button\" onClick={() => window.location.reload} className=\"Header-button\">\r\n            {'Обновить'}\r\n          </button>\r\n          <div className=\"Header-search\">\r\n            <i className=\"fas fa-search Header-search-button\" />\r\n            <Search />\r\n          </div>\r\n        </div>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React, { Component, Fragment } from 'react';\r\nimport moment from 'moment';\r\nimport Calendar from './Calendar';\r\nimport 'moment/locale/ru';\r\nimport Cell from './Calendar/Cell';\r\nimport Header from './Header';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    currentDate: moment(),\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.renderExample();\r\n  }\r\n\r\n  setToday = () => {\r\n    this.setState({ currentDate: moment() });\r\n  };\r\n\r\n  renderExample = () => {\r\n    if (!localStorage.data) {\r\n      localStorage.data = JSON.stringify([\r\n        {\r\n          date: '1547665200000',\r\n          content: {\r\n            event: 'Тестовое задание для iQ-dev',\r\n            names: 'Егор Сидоров',\r\n            description: 'Описание события',\r\n          },\r\n        },\r\n      ]);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let counter = 7;\r\n    const { currentDate } = this.state;\r\n    return (\r\n      <Fragment>\r\n        <Header />\r\n        <Calendar\r\n          onChangeMonth={date => this.setState({ currentDate: date })}\r\n          date={currentDate}\r\n          renderDay={({ day, classNames }) => {\r\n            counter -= 1;\r\n            if (counter >= 0) {\r\n              return (\r\n                <Cell\r\n                  key={day.format('x')}\r\n                  day={day}\r\n                  classNames={classNames}\r\n                  dayName={`${day\r\n                    .format('dddd')\r\n                    .charAt(0)\r\n                    .toUpperCase()}${day.format('dddd').slice(1)}, `}\r\n                />\r\n              );\r\n            }\r\n            return <Cell key={day.format('x')} day={day} classNames={classNames} />;\r\n          }}\r\n          renderHeader={({ date, onPrevMonth, onNextMonth }) => (\r\n            <div className=\"Calendar-header\">\r\n              <button type=\"button\" onClick={onPrevMonth}>\r\n                <i className=\"fas fa-angle-left\" />\r\n              </button>\r\n              <div className=\"Calendar-header-currentDate\">\r\n                {`${date\r\n                  .format('MMMM YYYY')\r\n                  .charAt(0)\r\n                  .toUpperCase()}${date.format('MMMM YYYY').slice(1)}`}\r\n              </div>\r\n              <button type=\"button\" onClick={onNextMonth}>\r\n                <i className=\"fas fa-angle-right\" />\r\n              </button>\r\n              <button type=\"button\" onClick={this.setToday}>\r\n                {'Сегодня'}\r\n              </button>\r\n            </div>\r\n          )}\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n","/* global document */\r\nimport React from 'react';\r\nimport { render } from 'react-dom';\r\nimport App from './App';\r\n\r\nrender(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}